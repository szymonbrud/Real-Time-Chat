(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{101:function(n,e,t){"use strict";t.r(e);var r=t(0),o=t.n(r),a=t(53),i=t.n(a),c=t(23),u=t(4),l=t(3),s=t(2),f={colors:{background:"#F1F1F1",blue:"#6E82EE",inputPlaceholder:"#A4A4A4"},fonts:{mono:"'Roboto Mono', monospace;",roboto:"'Roboto', sans-serif;"}};function d(){var n=Object(l.a)(["\n  \n  @font-face{\n    font-family: 'Roboto', sans-serif;\n    src: url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;600;700&family=Roboto:wght@400;500;700&display=swap');\n  }\n\n  *, *::after, *::before{\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  html{\n    font-size: 62.5%;\n  }\n\n  body{\n    font-size: 1.6rem;\n    margin: 0;\n    font-family: 'Roboto', sans-serif;\n    /* width: auto; */\n  }\n"]);return d=function(){return n},n}var m=Object(s.b)(d()),p=function(n){var e=n.children;return o.a.createElement(o.a.Fragment,null,o.a.createElement(m,null),o.a.createElement(s.a,{theme:f},e))},b=t(12),h=t(17),x={username:"",room:"",setUsername:function(){},setRoom:function(){},setUsernameAndRoom:function(){}},g=o.a.createContext(x),v=function(n){var e=n.children,t=Object(h.a)({},x,{setRoom:function(n){u(Object(h.a)({},c,{room:n}))},setUsername:function(n){u(Object(h.a)({},c,{username:n}))},setUsernameAndRoom:function(n,e){u(Object(h.a)({},c,{username:n,room:e}))}}),a=Object(r.useState)(t),i=Object(b.a)(a,2),c=i[0],u=i[1];return o.a.createElement(g.Provider,{value:c},e)};function j(){var n=Object(l.a)(["\n  margin: 5px 0 0 0;\n  width: 235px;\n  color: red;\n"]);return j=function(){return n},n}function O(){var n=Object(l.a)(["\n      border: red 2px solid;\n    "]);return O=function(){return n},n}function E(){var n=Object(l.a)(["\n  border-radius: 5px;\n  border: "," 2px solid;\n  font-size: 20px;\n  padding: 0 16px;\n  width: 235px;\n  height: 49px;\n  margin-top: 27px;\n\n  ::placeholder {\n    color: ",";\n  }\n\n  ","\n"]);return E=function(){return n},n}var w=s.d.input(E(),(function(n){return n.theme.colors.blue}),(function(n){return n.theme.colors.inputPlaceholder}),(function(n){return n.isError&&Object(s.c)(O())})),y=s.d.p(j()),R=function(n){var e=n.refProps,t=n.isError,r=void 0!==t&&t,a=n.placeholder;return o.a.createElement(o.a.Fragment,null,o.a.createElement(w,{ref:e,placeholder:a,isError:r}),r&&o.a.createElement(y,null,"B\u0142\u0105d!"))},k=function(n,e){var t=Object(r.useState)(!1),o=Object(b.a)(t,2),a=o[0],i=o[1],c=Object(r.useState)(!1),u=Object(b.a)(c,2),l=u[0],s=u[1],f=Object(r.useState)(!1),d=Object(b.a)(f,2),m=d[0],p=d[1],h=Object(r.useContext)(g).setUsernameAndRoom;return{isErrorUsername:a,isErrorRoom:l,isPassed:m,validationInputs:function(){if(n.current&&e.current){var t=n.current.value,r=e.current.value;if(0===t.length)return void i(!0);if(i(!1),0===r.length)return void s(!0);s(!1),h(t,r),p(!0)}}}};function z(){var n=Object(l.a)(["\n  border-radius: 5px;\n  background: ",";\n  color: white;\n  font-size: 20px;\n  margin-top: 54px;\n  width: 147px;\n  height: 48px;\n  border: none;\n\n  cursor: pointer;\n"]);return z=function(){return n},n}function S(){var n=Object(l.a)(["\n  font-size: 30px;\n  text-align: center;\n  font-family: ",";\n  font-weight: 600;\n  margin: 0 0 100px;\n"]);return S=function(){return n},n}function P(){var n=Object(l.a)(["\n  background: ",";\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n"]);return P=function(){return n},n}var U,A,C=s.d.section(P(),(function(n){return n.theme.colors.backgorund})),M=s.d.p(S(),(function(n){return n.theme.fonts.mono})),F=s.d.button(z(),(function(n){return n.theme.colors.blue})),I=function(){var n=Object(r.useRef)(null),e=Object(r.useRef)(null),t=k(n,e),a=t.isErrorUsername,i=t.isErrorRoom,c=t.isPassed,l=t.validationInputs;return c?o.a.createElement(u.a,{to:"/room"}):o.a.createElement(C,null,o.a.createElement(M,null,"Stw\xf3rz nowy pok\xf3j lub do\u0142\u0105cz"),o.a.createElement(R,{refProps:n,placeholder:"nazwa",isError:a}),o.a.createElement(R,{refProps:e,placeholder:"pok\xf3j",isError:i}),o.a.createElement(F,{onClick:l},"gotowe"))},X=t(115),B=t(25),J=t(34),W=t(57),H=t.n(W);A="localhost"===window.location.hostname?"http://localhost:5500/":"https://real-time-chat-backend.herokuapp.com/";var K=function(){var n=Object(r.useContext)(g),e=n.username,t=n.room,o=Object(r.useRef)(null),a=Object(r.useRef)(null),i=Object(r.useState)([]),c=Object(b.a)(i,2),u=c[0],l=c[1],s=Object(r.useState)(!1),f=Object(b.a)(s,2),d=f[0],m=f[1];Object(r.useEffect)((function(){""!==e&&""!==t||m(!0),(U=H()(A)).emit("join",{name:e,room:t},(function(n){n&&(alert(n),m(!0))})),U.on("message",(function(n){var e=n.user,t=n.text;l((function(n){return[].concat(Object(J.a)(n),[{isReceived:!0,sender:e,text:t}])}))}))}),[]);var p=function(){if(o.current&&""!==o.current.value){var n=o.current.value;U.emit("sendMessage",{text:n},(function(){})),l((function(t){return[].concat(Object(J.a)(t),[{isReceived:!1,sender:e,text:n}])})),o.current.value=""}};return Object(r.useEffect)((function(){a.current&&(a.current.scrollTop=a.current.scrollHeight)}),[u]),{messages:u,textInputRef:o,sendMessage:p,triggerSend:function(n){13===n.keyCode&&p()},isRedirect:d,messageWrapperRef:a}};function L(){var n=Object(l.a)(["\n          animation: "," 0.2s linear;\n          animation-timing-function: cubic-bezier(0.9, 0.23, 0.11, 1.84);\n          align-self: flex-start;\n          background: ",';\n          border-radius: 5px 5px 5px 0;\n          padding: 8px 15px 8px 10px;\n          color: white;\n\n          ::before {\n            content: "','";\n            left: 0;\n          }\n        ']);return L=function(){return n},n}function T(){var n=Object(l.a)(["\n          animation: "," 0.2s linear;\n          animation-timing-function: cubic-bezier(0.9, 0.23, 0.11, 1.84);\n          align-self: flex-end;\n          background: ",';\n          border-radius: 5px 5px 0 5px;\n\n          padding: 8px 10px 8px 15px;\n\n          ::before {\n            content: "','";\n            right: 0;\n          }\n        ']);return T=function(){return n},n}function Y(){var n=Object(l.a)(["\n  min-width: 50px;\n  position: relative;\n  margin: 40px 16px 0;\n  display: flex;\n  align-items: center;\n  font-size: 15px;\n\n  ::before {\n    position: absolute;\n    top: -1px;\n    transform: translateY(-100%);\n    color: rgba(0, 0, 0, 0.7);\n    font-size: 13px;\n  }\n\n  ",";\n"]);return Y=function(){return n},n}function q(){var n=Object(l.a)(["\n  margin-left: 26px;\n  width: 49px;\n  height: 49px;\n  border: none;\n  border-radius: 5px;\n  background: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  cursor: pointer;\n"]);return q=function(){return n},n}function D(){var n=Object(l.a)(["\n  width: 74%;\n  margin-bottom: 20px;\n\n  @media (min-width: 865px) {\n    width: 370px;\n    height: 49px;\n  }\n\n  height: 49px;\n  border-radius: 5px;\n  border: "," 2px solid;\n  font-size: 20px;\n  padding: 0 16px;\n  background: white;\n\n  ::placeholder {\n    color: ",";\n  }\n"]);return D=function(){return n},n}function G(){var n=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n"]);return G=function(){return n},n}function N(){var n=Object(l.a)(["\n  width: 100%;\n  height: 85vh;\n\n  @media (min-width: 865px) {\n    width: 445px;\n    height: 431px;\n  }\n\n  background: white;\n  border-radius: 6px;\n  margin-bottom: 31px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding-bottom: 20px;\n\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n"]);return N=function(){return n},n}function Q(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n\n  @media (min-width: 865px) {\n    display: block;\n    width: auto;\n  }\n"]);return Q=function(){return n},n}function V(){var n=Object(l.a)(["\n  width: 100%;\n  height: 100vh;\n  background: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return V=function(){return n},n}function Z(){var n=Object(l.a)(["\n  from {\n    transform: translateX(-100%);\n  }\n\n  to{\n    transform: translateX(0);\n  }\n"]);return Z=function(){return n},n}function $(){var n=Object(l.a)(["\n  from {\n    transform: translateX(100%);\n  }\n\n  to{\n    transform: translateX(0);\n  }\n"]);return $=function(){return n},n}var _=Object(s.e)($()),nn=Object(s.e)(Z()),en=s.d.section(V(),(function(n){return n.theme.colors.background})),tn=s.d.div(Q()),rn=s.d.div(N()),on=s.d.div(G()),an=s.d.input(D(),(function(n){return n.theme.colors.blue}),(function(n){return n.theme.colors.inputPlaceholder})),cn=s.d.button(q(),(function(n){return n.theme.colors.blue})),un=s.d.div(Y(),(function(n){var e=n.isRight,t=n.username;return e?Object(s.c)(L(),nn,(function(n){return n.theme.colors.blue}),t):Object(s.c)(T(),_,(function(n){return n.theme.colors.background}),t)})),ln=function(){var n=K(),e=n.messages,t=n.textInputRef,r=n.sendMessage,a=n.triggerSend,i=n.isRedirect,c=n.messageWrapperRef;return i?o.a.createElement(u.a,{to:"/"}):o.a.createElement(en,null,o.a.createElement(tn,null,o.a.createElement(rn,{ref:c},e.map((function(n,t){var r=n.isReceived,a=n.sender,i=n.text;return console.log(e.length,t),o.a.createElement(un,{isRight:r,username:a},i)}))),o.a.createElement(on,null,o.a.createElement(an,{placeholder:"napisz co\u015b...",ref:t,onKeyUp:function(n){return a(n)}}),o.a.createElement(cn,{onClick:r},o.a.createElement(X.a,{style:{fontSize:24,color:B.a[50],marginLeft:1}})))))},sn=function(){return o.a.createElement(p,null,o.a.createElement(v,null,o.a.createElement(c.a,null,o.a.createElement(u.d,null,o.a.createElement(u.b,{exact:!0,path:"/",component:I}),o.a.createElement(u.b,{path:"/room",component:ln})))))};i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(sn,null)),document.getElementById("root"))},59:function(n,e,t){n.exports=t(101)},98:function(n,e){}},[[59,1,2]]]);
//# sourceMappingURL=main.7cfb4a39.chunk.js.map